<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="node_modules/@shower/material/styles/styles.css">
    <link rel="stylesheet" href="styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
        }
    </style>
</head>
<body class="shower full">

    <header class="caption">
        <h1>Производительность анимаций. Как не застрять в кадрах.</h1>
        <p>Долженко Дмитрий</p>
    </header>

    <section id="title-slide" class="slide clear">
        <h2>Производительность анимаций.<br>Как не застрять в кадрах.</h2>
        <br>
        <br>
        <p><i>Долженко Дмитрий</i></p>
        <img src="pictures/tape.jpg" alt="" class="cover w">

        <style>
            #title-slide { 
                padding: 135px 200px 100px;
            }

            #title-slide h2 {
                color: #fff;
                font-weight: 600;
            }
            
            #title-slide i { 
                color: #fff;
                font-size: 25px;
            }
        </style>
    </section>

    <section class="slide">
        <h2 class="shout">С чего начать?</h2>
    </section>

    <section class="slide angle">
        <h2>Виды анимации:</h2>
        <ol>
            <li>Предсказуемые анимации.</li>
            <li class="next">Зависимые анимации.</li>
        </ol>
    </section>

    <section class="slide">
        <h2 class="shout">Нужно больше видов</h2>
    </section>

    <section class="slide angle">
        <h2>Виды анимаций по контенту:</h2>
        <ol>
            <li>Фоновая анимация.</li>
            <li class="next">Контентная анимация.</li>
        </ol>
    </section>

    <section class="slide">
        <h2 class="shout">Что насчет реализации?</h2>
    </section>

    <section class="slide angle">
        <h2>CSS</h2>
        <ul>
            <li>Transition</li>
            <li class="next">Animation</li>
        </ul>
    </section>

    <section class="slide angle">
        <h2>JavaScript</h2>
        <ul>
            <li>Изменение стилей</li>
            <li class="next">Canvas 2D context</li>
            <li class="next">WebGL (canvas 3D context)</li>
        </ul>
    </section>

    <section class="slide">
        <h2 class="shout">DevTools</h2>
    </section>

    <section class="slide angle">
        <p class="place top left video-name">Вкладка Animation</p>
        <video class="cover" src="videos/animation-tools.mp4" autoplay loop muted></video>
    </section>

    <section class="slide black">
        <img src="pictures/wanted-poster.jpg" alt="" class="cover h">
    </section>

    <section class="slide">
        <h2 class="shout">Так во всех браузерах?</h2>
    </section>

    <section class="slide angle">
        <h2>Дисклеймер</h2>
        <blockquote>
            Вся информация по инструментам разработчика касается только Google Chrome, данный доклад не спонсируется Google Inc. и не несет целью обидеть другие браузеры. Просьба не воспринимать услышанное близко к сердцу и не устраивать холиваров.
        </blockquote>
    </section>

    <section class="slide">
        <h2 class="shout">Render! Render! Render!</h2>
    </section>

    <section class="slide angle">
        <h2>Затратные операции браузера:</h2>
        <ol>
            <li>Reflow</li>
            <li class="next">Repaint</li>
        </ol>
    </section>

    <section class="slide">
        <h2 class="shout">Не все css-свойства одинаково полезны</h2>
    </section>

    <section class="slide">
        <h2 class="shout">Немного хитрости</h2>
    </section>

    <section class="slide angle">
        <ul>
            <li>will-change</li>
            <li class="next">Композитные слои</li>
            <li class="next">Абсолютное позиционирование</li>
        </ul>
    </section>

    <section class="slide">
        <h2 class="shout">Canvas здесь ни при чем</h2>
    </section>

    <section class="slide">
        <h2 class="shout">Как измерить производительность?</h2>
    </section>

    <section class="slide angle">
        <p class="place top left video-name">Rendering Tools</p>
        <video class="cover" src="videos/rendering-tools.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place top left video-name">Layers Tools</p>
        <video class="cover" src="videos/layers-tools.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place top left video-name">Performance Tools</p>
        <video class="cover" src="videos/performance-tools.mp4" autoplay loop muted></video>
    </section>

    <section class="slide">
        <h2 class="shout">Особенный Paint</h2>
    </section>

    <section class="slide angle">
        <p class="place top left video-name">Performance Tools (Paint)</p>
        <video class="cover" src="videos/performance-tools-paint.mp4" autoplay loop muted></video>
    </section>

    <section class="slide">
        <h2 class="shout">Резюмируем</h2>
    </section>

    <section class="slide">
        <h2 class="shout">Сравним производительность</h2>
    </section>

    <section class="slide">
        <h2 class="shout">Pure CSS </h2>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">Pure CSS (1 эл.)</p>
        <video class="cover" src="videos/css-1.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">Pure CSS (10 эл.)</p>
        <video class="cover" src="videos/css-10.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">Pure CSS (100 эл.)</p>
        <video class="cover" src="videos/css-100.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">Pure CSS (1000 эл.)</p>
        <video class="cover" src="videos/css-1000.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <h2>Pure CSS: резюме</h2>
        <table>
            <tr>
                <th>1 эл.</th>
                <th>10 эл.</th>
                <th>100 эл.</th>
                <th>1000 эл.</th>
            </tr>
            <tr>
                <td>~ 60 fps</td>
                <td>~ 60 fps</td>
                <td>~ 60 fps</td>
                <td>~ 20 fps</td>
            </tr>
        </table>
    </section>

    <section class="slide">
        <h2 class="shout">CSS + JS</h2>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">CSS + JS (1 эл.)</p>
        <video class="cover" src="videos/js-1.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">CSS + JS (10 эл.)</p>
        <video class="cover" src="videos/js-10.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">CSS + JS (100 эл.)</p>
        <video class="cover" src="videos/js-100.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">CSS + JS (1000 эл.)</p>
        <video class="cover" src="videos/js-1000.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <h2>CSS + JS: резюме</h2>
        <table>
            <tr>
                <th>1 эл.</th>
                <th>10 эл.</th>
                <th>100 эл.</th>
                <th>1000 эл.</th>
            </tr>
            <tr>
                <td>~ 60 fps</td>
                <td>~ 60 fps</td>
                <td>~ 35-40 fps</td>
                <td>~ 10 fps</td>
            </tr>
        </table>
    </section>

    <section class="slide">
        <h2 class="shout">JS Canvas</h2>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">JS Canvas (1 эл.)</p>
        <video class="cover" src="videos/canvas-1.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">JS Canvas (10 эл.)</p>
        <video class="cover" src="videos/canvas-10.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">JS Canvas (100 эл.)</p>
        <video class="cover" src="videos/canvas-100.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <p class="place bottom left video-name green">JS Canvas (1000 эл.)</p>
        <video class="cover" src="videos/canvas-1000.mp4" autoplay loop muted></video>
    </section>

    <section class="slide angle">
        <h2>JS Canvas: резюме</h2>
        <table>
            <tr>
                <th>1 эл.</th>
                <th>10 эл.</th>
                <th>100 эл.</th>
                <th>1000 эл.</th>
            </tr>
            <tr>
                <td>~ 55-60 fps</td>
                <td>~ 55-60 fps</td>
                <td>~ 42-44 fps</td>
                <td>~ 26 fps</td>
            </tr>
        </table>
    </section>

    <section class="slide">
        <h2 class="shout">Что дальше?</h2>
    </section>

    <section class="slide angle">
        <h2>Критерии выбора подхода</h2>
        <ol>
            <li>Независимость или предсказуемость анимации.</li>
            <li class="next">Полезность анимируемого контента.</li>
            <li class="next">Количество анимируемых элементов.</li>
        </ol>
    </section>

    <section class="slide">
        <h2 class="shout">Подведем итоги</h2>
    </section>

    <section class="slide angle">
        <h2>Производительность</h2>
        <table>
            <tr>
                <th></th>
                <th>Pure CSS</th>
                <th>CSS + JS</th>
                <th>JS Canvas</th>
            </tr>
            <tr>
                <td>1 эл.</td>
                <td>~ 60 fps</td>
                <td>~ 60 fps</td>
                <td>~ 55-60 fps</td>
            </tr>
            <tr>
                <td>10 эл.</td>
                <td>~ 60 fps</td>
                <td>~ 60 fps</td>
                <td>~ 55-60 fps</td>
            </tr>
            <tr>
                <td>100 эл.</td>
                <td>~ 60 fps</td>
                <td>~ 35-40 fps</td>
                <td>~ 42-44 fps</td>
            </tr>
            <tr>
                <td>1000 эл.</td>
                <td>~ 20 fps</td>
                <td>~ 10 fps</td>
                <td>~ 26 fps</td>
            </tr>
        </table>
    </section>

    <section class="slide angle">
        <h2>Выводы</h2>
        <ol id="infers">
            <li class="next">Для сложных анимаций иногда приходится включать голову.</li>
            <li class="next">Определяйте, ЧТО вы анимируете и зачем.</li>
            <li class="next">Выбирайте подход, исходя из этого.</li>
            <li class="next">Исследуйте производительность своей анимации и не бойтесь экспериментировать, меняя подходы и реализации.</li>
            <li class="next">Используйте те возможности web, которые позволят выполнить работу качественнее, а не те, которые вам больше нравятся.</li>
            <li class="next">Уделите немного времени производительности и никто не застрянет в вашей анимации.</li>
        </ol>

        <style>
            #infers {
                font-size: 20px;
            }
        </style>
    </section>

    <section class="slide clear">
        <h2 class="shout">Спасибо за внимание!</h2>
    </section>

    <div class="progress"></div>

    <script src="node_modules/shower-core/shower.min.js"></script>

</body>
</html>
